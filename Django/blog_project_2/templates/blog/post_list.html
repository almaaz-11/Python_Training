<!DOCTYPE html>
<html>
<head>
    <title>Blog</title>
</head>
<body>
    <header>
        <h1>Blog</h1>

        {% if user.is_authenticated %}
            <p>Hi {{ user.username }}!</p>
            <p>
                <form method="post" action="{% url 'logout' %}" style="display: inline;">
                    {% csrf_token %}
                    <button type="submit">Logout</button>
                </form>
                |
                <a href="{% url 'blog:post_create' %}">New Post</a>
            </p>
        {% else %}
            <p>
                <a href="{% url 'login' %}">Login</a>
                |
                <a href="{% url 'signup' %}">Sign up</a>
            </p>
        {% endif %}
    </header>

    <main>
        {% if object_list %}
            <ul>
                {% for post in object_list %}
                    <li>
                        <h2>
                            <a href="{% url 'blog:post_detail' post.pk %}">
                                {{ post.title }}
                            </a>
                        </h2>
                        <p>
                            By {{ post.author }} |
                            {{ post.created_at }}
                        </p>
                    </li>
                {% endfor %}
            </ul>
        {% else %}
            <p>No posts yet.</p>
        {% endif %}
    </main>
</body>
</html>
